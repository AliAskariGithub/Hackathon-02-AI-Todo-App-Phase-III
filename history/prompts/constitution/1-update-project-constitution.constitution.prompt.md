---
id: 1
title: Update Project Constitution
stage: constitution
date_iso: 2026-02-02
surface: agent
model: claude-sonnet-4-5-20250929
feature: none
branch: master
user: user
command: sp.constitution
labels:
  - constitution
  - governance
  - setup
files_yaml:
  - .specify/memory/constitution.md
tests_yaml: []
links:
  spec: null
  ticket: null
  adr: null
  pr: null
outcome: Completed
evaluation: Success
---

# Update Project Constitution

## Prompt Text

```
Project: Full-Stack Multi-User Todo Web Application (Agentic Build)

Core Principles:
- Agentic Autonomy: 100% of code must be generated by Claude Code via the Spec-Kit Plus workflow. No manual code edits.
- Live Documentation: Use Context7 MCP Server for all real-time documentation fetches regarding Next.js 16.1.2, Better Auth, and FastAPI.
- Secure by Default: Authentication and user isolation (ownership enforcement) are non-negotiable architectural requirements.
- Modernity: Leverage the latest features of Next.js 16 (App Router) and Shadcn UI.

Key Standards:
- Tech Stack: Next.js 16.1.2, FastAPI, SQLModel, Neon Serverless PostgreSQL, Better Auth.
- Auth Protocol: Better Auth JWT Plugin with shared `BETTER_AUTH_SECRET` for cross-service verification.
- API Design: RESTful endpoints with strict user-id path parameter validation and JWT middleware filtering.
- UI/UX: Responsive design using Shadcn UI components; mobile-first approach.
- Data Integrity: Database transactions via SQLModel; Neon-specific connection pooling for serverless environments.

Constraints:
- Version Control: Next.js version must be pinned to 16.1.2.
- Security: All API requests must return 401 Unauthorized if a valid JWT is missing.
- Architecture: Frontend and Backend must remain separate services communicating over HTTPS/REST.
- Environment: Secrets must be managed via .env files (BETTER_AUTH_SECRET, DATABASE_URL).

Success Criteria:
- Users can sign up and sign in via Better Auth.
- Users can only see, create, and modify their own tasks (enforced via JWT & User ID).
- Application is fully functional on both desktop and mobile views.
- 0 manual lines of code written by the developer; all changes logged via agentic tasks.
```

## Response Text

Updated the constitution file at `.specify/memory/constitution.md` with the specified project principles, standards, constraints, and success criteria. The constitution now includes:

- Core Principles: Agentic Autonomy, Live Documentation, Secure by Default, and Modernity
- Key Standards: Tech Stack Compliance, Auth Protocol, API Design Standards, UI/UX Standards, and Data Integrity Requirements
- Constraints: Version Control Policy, Security Enforcement, Architecture Boundaries, and Environment Management
- Success Criteria: Authentication Functionality, User Data Isolation, Cross-Device Compatibility, and Agentic Development Compliance

The constitution serves as the authoritative guide for the Full-Stack Multi-User Todo Web Application development, ensuring all development activities follow the specified principles and standards.

## Files Created/Modified

- `.specify/memory/constitution.md`: Updated with the new project constitution containing all specified principles, standards, constraints, and success criteria.